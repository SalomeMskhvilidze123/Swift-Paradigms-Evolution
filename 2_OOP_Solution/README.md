# თავი 2: როგორ მოვაწესრიგეთ ის ქაოსი

წინა თავში ვნახეთ, რა თავის ტკივილი იყო, როცა წესები და მონაცემები ერთმანეთს იყო აცდენილი. ყველაფერი ერთმანეთში იხლართებოდა და ადვილი იყო რამის გაფუჭება.

აქ კი ყველაფერი დავალაგეთ და ობიექტზე ორიენტირებული მიდგომა გამოვიყენეთ.

## რა გავაკეთეთ?

შევქმენით ერთი "ჭკვიანი ყუთი" — `UserAccount` კლასი. ახლა ამ ყუთმა **თვითონ იცის ყველაფერი** თავის თავზე:

* რა თანხა დევს შიგნით (`balance`).
* რა სტატუსი აქვს (`status`).
* როგორ უნდა შეიტანო ან გამოიტანო ფული (`deposit`, `withdraw`).

და რაც მთავარია, ამ ყუთის შიგთავსს (`balance` და `status`) პირდაპირ ვეღარ ვეხებით, რადგან `private` გახდა. ეს იგივეა, საფულეს რომ საკეტი დაადო — ფულს მხოლოდ საფულის წესებით აიღებ და ჩადებ.

## როგორ გადაიჭრა პრობლემები?

### 1. აღარ არის გაბნეული წესები

ყველა ლოგიკა თავმოყრილია `UserAccount` კლასში. თუ რამის შეცვლა გვინდა, ზუსტად ვიცით, სად უნდა ვეძებოთ. აღარ გვიწევს ფიქრი, "უი, პროცენტის დარიცხვისას ხომ არ დამავიწყდა სტატუსის შემოწმება?". ობიექტი ამას თავისით აკეთებს.

### 2. ძალითაც რომ მოვინდომოთ, ვეღარაფერს გავაფუჭებთ

კომპიუტერი ჩვენი მცველი ხდება. თუ ვცდით, რომ ბალანსი პირდაპირ შევცვალოთ (`account.balance = 99999`), კოდი უბრალოდ არ დაკომპილირდება. პროგრამა თავად გვიცავს სულელური შეცდომებისგან.

**მოკლედ, კოდი ახლა ბევრად უსაფრთხო, მოწესრიგებული და გასაგებია.**
